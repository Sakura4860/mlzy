# ç‘å£«å»ºç­‘èƒ½è€—é¢„æµ‹ - å®éªŒæ—¥å¿—

**é¡¹ç›®å‘¨æœŸ**: 2025-12-08 è‡³ 2025-12-24  
**æœ€ç»ˆçŠ¶æ€**: âœ… æ•°æ®æ³„éœ²å·²ä¿®å¤ï¼Œæ‰€æœ‰æ¨¡å‹ä½¿ç”¨åˆæ³•ç‰¹å¾é‡æ–°è®­ç»ƒ  
**æ¨èæ¨¡å‹**: RF Lite (12ç‰¹å¾, RÂ²=0.9338, MAPE=7.31%)

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
2. [æ•°æ®åŠ è½½ä¸æ¢ç´¢](#2-æ•°æ®åŠ è½½ä¸æ¢ç´¢)
3. [æ•°æ®é¢„å¤„ç†](#3-æ•°æ®é¢„å¤„ç†)
4. [ç‰¹å¾å·¥ç¨‹](#4-ç‰¹å¾å·¥ç¨‹)
5. [æ•°æ®æ³„éœ²é—®é¢˜ä¸ä¿®å¤](#5-æ•°æ®æ³„éœ²é—®é¢˜ä¸ä¿®å¤)
6. [æ¨¡å‹è®­ç»ƒä¸è¯„ä¼°](#6-æ¨¡å‹è®­ç»ƒä¸è¯„ä¼°)
7. [ç‰¹å¾ç²¾ç®€å®éªŒ](#7-ç‰¹å¾ç²¾ç®€å®éªŒ)
8. [LSTMæ·±åº¦å­¦ä¹ å®éªŒ](#8-lstmæ·±åº¦å­¦ä¹ å®éªŒ)
9. [æœ€ç»ˆç»“è®ºä¸å»ºè®®](#9-æœ€ç»ˆç»“è®ºä¸å»ºè®®)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 èƒŒæ™¯ä¸ç›®æ ‡

**ä¸šåŠ¡åœºæ™¯**: ç‘å£«é›¶ç¢³å·¥ä¸šå›­åŒºèƒ½æºç®¡ç†ç³»ç»Ÿ(EMS)  
**æ ¸å¿ƒä»»åŠ¡**: åŸºäºå†å²æ°”è±¡å’Œèƒ½è€—æ•°æ®ï¼Œé¢„æµ‹åŒ»é™¢å»ºç­‘æœªæ¥1-24å°æ—¶èƒ½è€—  
**åº”ç”¨ä»·å€¼**:
- ğŸ”® èƒ½è€—é¢„æµ‹ä¸è´Ÿè·ç®¡ç†
- ğŸš¨ å¼‚å¸¸æ£€æµ‹ä¸å‘Šè­¦
- ğŸ’¡ HVACç³»ç»Ÿä¼˜åŒ–
- ğŸŒ± ç¢³æ’æ”¾å®æ—¶ç›‘æ§

### 1.2 æ•°æ®æ¥æº

**æ°”è±¡æ•°æ®** (8760æ¡è®°å½•, 2019å¹´å…¨å¹´):
- æ¥æº: è‹é»ä¸–æ°”è±¡ç«™
- é¢‘ç‡: é€å°æ—¶
- å˜é‡: Temperature, Wind, Humidity, Solar Radiation (DNI/DIF/GHI)

**å»ºç­‘æ•°æ®**:
- å»ºç­‘ç±»å‹: Hospitals (1991-2000å¹´å»ºé€ , å®Œå…¨ç¿»æ–°)
- èƒ½è€—ç±»å‹: ä¾›æš–ã€åˆ¶å†·ã€çƒ­æ°´ã€ç”µåŠ›
- æŒ‡æ ‡: 15ä¸ªèƒ½è€—ç›¸å…³å˜é‡

### 1.3 æŠ€æœ¯è·¯çº¿

```
æ•°æ®åŠ è½½ â†’ æ•°æ®æ¸…æ´— â†’ ç‰¹å¾å·¥ç¨‹ â†’ æ¨¡å‹è®­ç»ƒ â†’ æ€§èƒ½è¯„ä¼° â†’ ä¼˜åŒ–è¿­ä»£
   â†“          â†“          â†“          â†“          â†“          â†“
 8760æ¡   ä¿®å¤é”™è¯¯   122ç‰¹å¾   7ä¸ªæ¨¡å‹   å¤šæŒ‡æ ‡   ç‰¹å¾ç²¾ç®€
```

---

## 2. æ•°æ®åŠ è½½ä¸æ¢ç´¢

### 2.1 åŸå§‹æ•°æ®æ¦‚è§ˆ

**æ°”è±¡æ•°æ®** (`weather_hourly_darksky.csv`):
- æ€»è®°å½•: 8760è¡Œ Ã— 9åˆ—
- æ—¶é—´èŒƒå›´: 2019-01-01 00:00 ~ 2019-12-31 23:00
- ç‰¹å¾: datetime, temperature, dewPoint, humidity, pressure, windSpeed, windBearing, cloudCover, visibility

**å»ºç­‘æ•°æ®** (`Hospitals_1991_2000_CCFR.csv`):
- æ€»è®°å½•: 8760è¡Œ Ã— 15åˆ—
- å…³é”®ç‰¹å¾:
  - `Total_Energy_kWh` (ç›®æ ‡å˜é‡)
  - `Electricity_J`, `Electricity_kWh`
  - `HotWater_J`, `HotWater_kWh`
  - `SpaceHeating_J`, `SpaceHeating_kWh`
  - `SpaceCooling_J`, `SpaceCooling_kWh`
  - ç­‰

### 2.2 æ•°æ®è´¨é‡æ£€æŸ¥

**å‘ç°çš„é—®é¢˜**:
1. **Datetimeæ ¼å¼é”™è¯¯**: 365æ¡è®°å½•çš„datetimeæ ¼å¼ä¸ä¸€è‡´
   - æ­£å¸¸æ ¼å¼: `2019-01-01 00:00:00`
   - é”™è¯¯æ ¼å¼: `2019-01-01 24:00:00` (åº”ä¸ºæ¬¡æ—¥00:00)
   
2. **ç¼ºå¤±å€¼**: æ— 

3. **å¼‚å¸¸å€¼**: é€šè¿‡IQRæ–¹æ³•æ£€æµ‹ï¼Œå°‘é‡æç«¯å€¼

**è§£å†³æ–¹æ¡ˆ**:
```python
# ä¿®å¤datetimeæ ¼å¼
df['datetime'] = pd.to_datetime(df['datetime'], errors='coerce')
df = df.dropna(subset=['datetime'])
```

### 2.3 æ•°æ®ç»Ÿè®¡ç‰¹æ€§

**ç›®æ ‡å˜é‡ (Total_Energy_kWh)**:
- å‡å€¼: 23.37 kWh
- ä¸­ä½æ•°: 21.49 kWh
- æ ‡å‡†å·®: 9.65 kWh
- æœ€å°å€¼: 8.13 kWh
- æœ€å¤§å€¼: 68.91 kWh
- åˆ†å¸ƒ: å³ååˆ†å¸ƒï¼Œå­˜åœ¨é«˜èƒ½è€—æ—¶æ®µ

**æ—¶é—´ç‰¹æ€§**:
- æ—¥å‘¨æœŸæ€§: ç™½å¤©èƒ½è€—é«˜ï¼Œå¤œé—´èƒ½è€—ä½
- å‘¨å‘¨æœŸæ€§: å·¥ä½œæ—¥ vs å‘¨æœ«å·®å¼‚æ˜æ˜¾
- å­£èŠ‚æ€§: å¤å­£åˆ¶å†·ï¼Œå†¬å­£ä¾›æš–

---

## 3. æ•°æ®é¢„å¤„ç†

### 3.1 å¼‚å¸¸å€¼å¤„ç†

**æ–¹æ³•**: IQR (Interquartile Range) å››åˆ†ä½è·æ³•

```python
Q1 = df['Total_Energy_kWh'].quantile(0.25)
Q3 = df['Total_Energy_kWh'].quantile(0.75)
IQR = Q3 - Q1
lower_bound = Q1 - 1.5 * IQR
upper_bound = Q3 + 1.5 * IQR
```

**ç»“æœ**:
- æ£€æµ‹åˆ°å¼‚å¸¸å€¼: 42ä¸ªæ ·æœ¬ (0.48%)
- å¤„ç†æ–¹å¼: ä¿ç•™ï¼ˆå»ºç­‘èƒ½è€—çš„çœŸå®æç«¯æƒ…å†µï¼‰

### 3.2 æ•°æ®å½’ä¸€åŒ–

**æ–¹æ³•**: MinMaxScaler (èŒƒå›´: [0, 1])

**åŸå› é€‰æ‹©MinMaxè€ŒéStandardScaler**:
- âœ… ä¿ç•™åŸå§‹æ•°æ®åˆ†å¸ƒ
- âœ… é¿å…è´Ÿå€¼ï¼ˆä¾¿äºç†è§£ï¼‰
- âœ… ç¥ç»ç½‘ç»œè®­ç»ƒæ›´ç¨³å®š

**å®æ–½**:
```python
from sklearn.preprocessing import MinMaxScaler
scaler = MinMaxScaler()
scaler.fit(X_train)  # ä»…åœ¨è®­ç»ƒé›†fit
X_train_scaled = scaler.transform(X_train)
X_test_scaled = scaler.transform(X_test)  # æµ‹è¯•é›†ä½¿ç”¨ç›¸åŒå‚æ•°
```

### 3.3 æ•°æ®åˆ†å‰²

**ç­–ç•¥**: æ—¶é—´åºåˆ—åˆ†å‰²ï¼ˆæŒ‰æ—¶é—´é¡ºåºï¼‰

```
æ€»æ•°æ® (8736å°æ—¶)
  â†“
ç§»é™¤ç¼ºå¤±å€¼å (8737å°æ—¶)
  â†“
â”œâ”€ è®­ç»ƒé›†: 6289 (72%)
â”œâ”€ éªŒè¯é›†: 699 (8%)  
â””â”€ æµ‹è¯•é›†: 1748 (20%)
```

**å…³é”®åŸåˆ™**:
- â›” ä¸èƒ½æ‰“ä¹±é¡ºåºï¼ˆæ—¶é—´åºåˆ—ç‰¹æ€§ï¼‰
- â›” æµ‹è¯•é›†å¿…é¡»åœ¨æœ€åï¼ˆæ¨¡æ‹ŸçœŸå®é¢„æµ‹ï¼‰
- âœ… æŒ‰æ—¶é—´é¡ºåºä¸¥æ ¼åˆ†å‰²

---

## 4. ç‰¹å¾å·¥ç¨‹

### 4.1 ç‰¹å¾å·¥ç¨‹ç­–ç•¥

**ç›®æ ‡**: ä»15ä¸ªåŸå§‹ç‰¹å¾æ„é€ å‡ºé¢„æµ‹èƒ½åŠ›å¼ºçš„æ—¶é—´åºåˆ—ç‰¹å¾

**ç‰¹å¾ç±»åˆ«**:
1. æ—¶é—´ç‰¹å¾ (Time Features)
2. æ»åç‰¹å¾ (Lag Features)
3. æ»šåŠ¨ç»Ÿè®¡ç‰¹å¾ (Rolling Features)
4. ~~å·®åˆ†ç‰¹å¾~~ (Difference Features) - å·²ç§»é™¤ï¼ˆæ•°æ®æ³„éœ²ï¼‰
5. ~~èƒ½è€—ç»„æˆéƒ¨åˆ†~~ - å·²ç§»é™¤ï¼ˆæ•°æ®æ³„éœ²ï¼‰

### 4.2 æ—¶é—´ç‰¹å¾

**ç›®çš„**: æ•æ‰å‘¨æœŸæ€§æ¨¡å¼ï¼ˆæ—¥/å‘¨/å¹´ï¼‰

**æ„é€ çš„ç‰¹å¾**:
```python
# åŸºç¡€æ—¶é—´ç‰¹å¾
hour = df['datetime'].dt.hour  # 0-23
day_of_week = df['datetime'].dt.dayofweek  # 0-6
month = df['datetime'].dt.month  # 1-12
day_of_year = df['datetime'].dt.dayofyear  # 1-365
is_weekend = (day_of_week >= 5).astype(int)  # 0æˆ–1

# å‘¨æœŸæ€§ç¼–ç  (é¿å…æ–­ç‚¹é—®é¢˜)
hour_sin = np.sin(2 * np.pi * hour / 24)
hour_cos = np.cos(2 * np.pi * hour / 24)
month_sin = np.sin(2 * np.pi * month / 12)
month_cos = np.cos(2 * np.pi * month / 12)
```

**ä¸ºä»€ä¹ˆä½¿ç”¨sin/cosç¼–ç ?**
- âŒ ç›´æ¥ä½¿ç”¨hour: 23æ—¶å’Œ0æ—¶å·®è·å¤§ï¼ˆå®é™…åº”è¯¥ç›¸é‚»ï¼‰
- âœ… sin/cosç¼–ç : ä¿æŒå‘¨æœŸè¿ç»­æ€§

**ç”Ÿæˆç‰¹å¾æ•°**: 9ä¸ªæ—¶é—´ç‰¹å¾

### 4.3 æ»åç‰¹å¾ (Lag Features)

**åŸç†**: åˆ©ç”¨å†å²å€¼é¢„æµ‹æœªæ¥å€¼

```python
# åˆæ³•çš„æ»åç‰¹å¾
Total_Energy_kWh_lag_1 = df['Total_Energy_kWh'].shift(1)   # 1å°æ—¶å‰
Total_Energy_kWh_lag_2 = df['Total_Energy_kWh'].shift(2)   # 2å°æ—¶å‰
Total_Energy_kWh_lag_3 = df['Total_Energy_kWh'].shift(3)   # 3å°æ—¶å‰
Total_Energy_kWh_lag_24 = df['Total_Energy_kWh'].shift(24) # 24å°æ—¶å‰(æ˜¨å¤©åŒæ—¶åˆ»)
```

**å…³é”®ç‚¹**:
- âœ… shift(1)ç¡®ä¿ä½¿ç”¨å†å²æ•°æ®ï¼Œä¸åŒ…å«å½“å‰å€¼
- âœ… lag_1ä¸ç›®æ ‡é«˜åº¦ç›¸å…³(0.927)ä½†åˆæ³•
- âœ… lag_24æ•æ‰æ—¥å‘¨æœŸæ€§

**ç”Ÿæˆç‰¹å¾æ•°**: 4ä¸ªæ»åç‰¹å¾ Ã— 1ä¸ªå˜é‡ = 4ä¸ª

### 4.4 æ»šåŠ¨ç»Ÿè®¡ç‰¹å¾ (Rolling Features)

**åŸç†**: æ»‘åŠ¨çª—å£ç»Ÿè®¡é‡ï¼Œæ•æ‰çŸ­æœŸè¶‹åŠ¿å’Œæ³¢åŠ¨

**æ­£ç¡®å®ç°** (å…³é”®: ä½¿ç”¨shifté¿å…æ³„éœ²):
```python
# âœ… æ­£ç¡®: å…ˆshiftå†rolling
rolling_mean_3 = df['Total_Energy_kWh'].shift(1).rolling(window=3).mean()
rolling_std_24 = df['Total_Energy_kWh'].shift(1).rolling(window=24).std()

# âŒ é”™è¯¯: ç›´æ¥rolling (åŒ…å«å½“å‰å€¼ï¼Œæ•°æ®æ³„éœ²!)
rolling_mean_3 = df['Total_Energy_kWh'].rolling(window=3).mean()
```

**æ„é€ çš„æ»šåŠ¨ç‰¹å¾**:
```
çª—å£å¤§å°: [3, 6, 12, 24]
ç»Ÿè®¡é‡: [mean, std, min, max]
æ€»è®¡: 4çª—å£ Ã— 4ç»Ÿè®¡é‡ = 16ä¸ªæ»šåŠ¨ç‰¹å¾
```

**é‡è¦æ€§åˆ†æ** (ä¿®å¤å):
- `rolling_mean_24`: é‡è¦æ€§ä½ (lag_1å·²è¶³å¤Ÿ)
- `rolling_std_24`: æ•æ‰æ³¢åŠ¨æ€§ï¼Œæœ‰ä¸€å®šä»·å€¼

**ç”Ÿæˆç‰¹å¾æ•°**: 16ä¸ªæ»šåŠ¨ç‰¹å¾

### 4.5 ~~å·®åˆ†ç‰¹å¾~~ (å·²ç§»é™¤ - æ•°æ®æ³„éœ²)

**åŸå®ç°**:
```python
diff_1 = df['Total_Energy_kWh'].diff(1)   # y[t] - y[t-1]
diff_24 = df['Total_Energy_kWh'].diff(24) # y[t] - y[t-24]
```

**ä¸ºä»€ä¹ˆç§»é™¤?**
âŒ **æ•°å­¦é‡æ„æ³„éœ²**: `y[t] = diff_1 + lag_1 = (y[t] - y[t-1]) + y[t-1] = y[t]`

### 4.6 ~~èƒ½è€—ç»„æˆéƒ¨åˆ†~~ (å·²ç§»é™¤ - æ•°æ®æ³„éœ²)

**åŸå§‹ç‰¹å¾**:
- `Electricity_kWh`, `HotWater_kWh`, `SpaceHeating_kWh`, `SpaceCooling_kWh`

**ä¸ºä»€ä¹ˆç§»é™¤?**
âŒ **ç›®æ ‡åˆ†è§£æ³„éœ²**: è¿™äº›æ˜¯Total_Energy_kWhçš„ç»„æˆéƒ¨åˆ†
```
Total_Energy_kWh â‰ˆ Electricity_kWh + HotWater_kWh + SpaceHeating_kWh + SpaceCooling_kWh
```
ç›¸å…³æ€§: 0.98+ (å‡ ä¹å®Œç¾ç›¸å…³)

### 4.7 æœ€ç»ˆç‰¹å¾é›†åˆ

**ä¿®å¤åçš„ç‰¹å¾ç»Ÿè®¡**:
- âœ… æ—¶é—´ç‰¹å¾: 9ä¸ª
- âœ… æ»åç‰¹å¾: 4ä¸ª
- âœ… æ»šåŠ¨ç‰¹å¾: 16ä¸ª
- âœ… æ°”è±¡ç‰¹å¾: åŸå§‹æ°”è±¡æ•°æ®
- **æ€»è®¡**: 122ä¸ªåˆæ³•ç‰¹å¾

**Liteç‰¹å¾é›†åˆ** (12ä¸ªç²¾é€‰ç‰¹å¾):
1. `Total_Energy_kWh_lag_1` (91.6% é‡è¦æ€§)
2. `Total_Energy_kWh_lag_24`
3. `Total_Energy_kWh_lag_2`
4. `hour`
5. `hour_sin`
6. `hour_cos`
7. `day_of_week`
8. `is_weekend`
9. `Total_Energy_kWh_rolling_std_24`
10. `Total_Energy_kWh_rolling_mean_24`
11. `Temperature`
12. `GHI` (Global Horizontal Irradiance)

---

## 5. æ•°æ®æ³„éœ²é—®é¢˜ä¸ä¿®å¤

### 5.1 é—®é¢˜å‘ç°è¿‡ç¨‹

**2025-12-08**: åˆæ¬¡è®­ç»ƒå‘ç°Linear Regression RÂ²=1.0  
**åˆæ­¥åˆ¤æ–­**: è®¤ä¸ºæ˜¯lag_1ç‰¹å¾é«˜åº¦ç›¸å…³çš„æ­£å¸¸ç°è±¡ âŒ  
**2025-12-13**: è¿›è¡Œä»£ç å®¡æŸ¥ï¼Œæœªå‘ç°é—®é¢˜ âŒ  
**2025-12-24**: æ·±å…¥åˆ†æï¼Œå‘ç°ä¸¤ç±»ä¸¥é‡æ•°æ®æ³„éœ² âœ…

### 5.2 æ•°æ®æ³„éœ²ç±»å‹è¯¦è§£

#### æ³„éœ²ç±»å‹1: èƒ½è€—ç»„æˆéƒ¨åˆ†æ³„éœ²

**é—®é¢˜ç‰¹å¾** (10ä¸ª):
```
Electricity_kWh, Electricity_J
HotWater_kWh, HotWater_J
SpaceHeating_kWh, SpaceHeating_J
SpaceCooling_kWh, SpaceCooling_J
HotWater_SpaceHeating_kWh, HotWater_SpaceHeating_J
```

**æ³„éœ²åŸå› **:
```
Total_Energy_kWh = Electricity + HotWater + SpaceHeating + SpaceCooling
```
è¿™äº›ç‰¹å¾ä¸ç›®æ ‡å˜é‡åŒæ—¶æµ‹é‡ï¼Œæ˜¯ç›®æ ‡çš„ç»„æˆéƒ¨åˆ†ã€‚

**ç›¸å…³æ€§éªŒè¯**:
```
HotWater_SpaceHeating_kWh: 0.984
SpaceHeating_J: 0.982
Electricity_kWh: 0.971
```

**ä¸ºä»€ä¹ˆæ˜¯æ³„éœ²?**
åœ¨å®é™…é¢„æµ‹æ—¶ï¼Œæˆ‘ä»¬æ— æ³•æå‰çŸ¥é“æœªæ¥1å°æ—¶çš„`Electricity_kWh`ç­‰ç»„æˆéƒ¨åˆ†ã€‚
è¿™äº›æ˜¯ä¸`Total_Energy_kWh`åŒæ—¶äº§ç”Ÿçš„æµ‹é‡å€¼ã€‚

#### æ³„éœ²ç±»å‹2: å·®åˆ†+æ»åé‡æ„æ³„éœ²

**é—®é¢˜ç‰¹å¾** (2ä¸ª):
```
Total_Energy_kWh_diff_1
Total_Energy_kWh_diff_24
```

**æ³„éœ²åŸå› ** - æ•°å­¦é‡æ„:
```python
y[t] = diff_1 + lag_1
     = (y[t] - y[t-1]) + y[t-1]
     = y[t]  # å®Œç¾é‡æ„ç›®æ ‡å˜é‡!
```

**Linear Regressionç³»æ•°éªŒè¯**:
```
æ¨¡å‹: y = 26.27*diff_1 + 20.85*lag_1 + 24.39*diff_24 + ...
ç»“æœ: RÂ²=1.0000 (å®Œç¾æ‹Ÿåˆ)
```

### 5.3 ä¿®å¤æ–¹æ¡ˆå®æ–½

**ä¿®å¤è„šæœ¬**: `fix_final.py`

**æ­¥éª¤**:
1. åŠ è½½åŸå§‹ç‰¹å¾å·¥ç¨‹åçš„æ•°æ®
2. è¯†åˆ«12ä¸ªæ³„éœ²ç‰¹å¾
3. ä»ç‰¹å¾é›†ä¸­ç§»é™¤
4. ä¿ç•™122ä¸ªåˆæ³•ç‰¹å¾
5. é‡æ–°è®­ç»ƒæ‰€æœ‰æ¨¡å‹

**ä»£ç æ ¸å¿ƒ**:
```python
# ç§»é™¤èƒ½è€—ç»„æˆéƒ¨åˆ† (10ä¸ª)
energy_component_features = [
    'Electricity_kWh', 'Electricity_J',
    'HotWater_kWh', 'HotWater_J',
    'SpaceHeating_kWh', 'SpaceHeating_J',
    'SpaceCooling_kWh', 'SpaceCooling_J',
    'HotWater_SpaceHeating_kWh', 'HotWater_SpaceHeating_J'
]

# ç§»é™¤å·®åˆ†ç‰¹å¾ (2ä¸ª)
diff_features = [
    'Total_Energy_kWh_diff_1',
    'Total_Energy_kWh_diff_24'
]

# ç§»é™¤æ³„éœ²ç‰¹å¾
leakage_features = energy_component_features + diff_features
X_train_clean = X_train.drop(columns=leakage_features)
X_test_clean = X_test.drop(columns=leakage_features)
```

### 5.4 ä¿®å¤æ•ˆæœéªŒè¯

**æ¨¡å‹æ€§èƒ½å¯¹æ¯”**:

| æ¨¡å‹ | RÂ² (æ³„éœ²å‰) | RÂ² (ä¿®å¤å) | æ€§èƒ½ä¸‹é™ | çŠ¶æ€ |
|------|-------------|-------------|----------|------|
| Linear Regression | **1.0000** âŒ | 0.8739 âœ… | -12.61% | ä¿®å¤æˆåŠŸ |
| Random Forest | 0.9973 | 0.9264 âœ… | -7.09% | ä»ç„¶ä¼˜ç§€ |
| SVR | 0.9815 | 0.7100 âœ… | -27.15% | å¤§å¹…ä¸‹é™ |
| KNN | 0.8208 | 0.6773 âœ… | -17.48% | æ˜¾è‘—ä¸‹é™ |

**ä¿®å¤æˆåŠŸçš„æ ‡å¿—**:
âœ… Linear Regressionä¸å†è¾¾åˆ°RÂ²=1.0  
âœ… æ‰€æœ‰æ¨¡å‹RMSEæ˜¾è‘—ä¸Šå‡ï¼ˆåæ˜ çœŸå®é¢„æµ‹éš¾åº¦ï¼‰  
âœ… ç‰¹å¾-ç›®æ ‡æœ€é«˜ç›¸å…³æ€§: 0.927 (lag_1ï¼Œåˆç†èŒƒå›´)

### 5.5 Liteæ¨¡å‹ä¸“é¡¹ä¿®å¤

**é—®é¢˜å‘ç°**: åŸ12ç‰¹å¾Liteæ¨¡å‹åŒ…å«5ä¸ªæ³„éœ²ç‰¹å¾(41.7%)

**ä¿®å¤æªæ–½**:
1. é‡æ–°é€‰æ‹©12ä¸ªæ— æ³„éœ²ç‰¹å¾
2. åŸºäº122ä¸ªåˆæ³•ç‰¹å¾çš„é‡è¦æ€§æ’åº
3. ä¿è¯è¦†ç›–95.71%æ€»é‡è¦æ€§

**æƒŠäººå‘ç°**:
- ä¿®å¤åRÂ²=0.9338 > Fullæ¨¡å‹RÂ²=0.9264
- **ç‰¹å¾è´¨é‡ > ç‰¹å¾æ•°é‡** çš„æœ€ä½³è¯æ˜!

---

## 6. æ¨¡å‹è®­ç»ƒä¸è¯„ä¼°

### 6.1 æ¨¡å‹é€‰æ‹©

**è®­ç»ƒçš„æ¨¡å‹** (7ä¸ª):
1. Linear Regression (åŸºçº¿æ¨¡å‹)
2. K-Nearest Neighbors
3. Support Vector Regression
4. Random Forest (é›†æˆå­¦ä¹ )
5. Random Forest Lite (ç‰¹å¾ç²¾ç®€)
6. LSTM Baseline (æ·±åº¦å­¦ä¹ )
7. Improved LSTM (ä¼˜åŒ–ç‰ˆ)

### 6.2 è¯„ä¼°æŒ‡æ ‡

**ä½¿ç”¨çš„æŒ‡æ ‡**:
```python
RMSE = sqrt(mean((y_true - y_pred)^2))        # å‡æ–¹æ ¹è¯¯å·®
MAE = mean(|y_true - y_pred|)                 # å¹³å‡ç»å¯¹è¯¯å·®
RÂ² = 1 - SS_res / SS_tot                       # å†³å®šç³»æ•°
MAPE = mean(|y_true - y_pred| / y_true) Ã— 100 # å¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®
```

**ä¸ºä»€ä¹ˆä½¿ç”¨è¿™4ä¸ªæŒ‡æ ‡?**
- RMSE: å¯¹å¤§è¯¯å·®æ•æ„Ÿï¼Œæƒ©ç½šæç«¯é”™è¯¯
- MAE: é²æ£’æ€§å¥½ï¼Œä¸å—æç«¯å€¼å½±å“
- RÂ²: è§£é‡Šæ–¹å·®æ¯”ä¾‹ï¼Œç›´è§‚ç†è§£æ‹Ÿåˆåº¦
- MAPE: ç›¸å¯¹è¯¯å·®ï¼Œä¾¿äºè·¨é‡çº§æ¯”è¾ƒ

### 6.3 æ¨¡å‹æ€§èƒ½æ€»è§ˆ (ä¿®å¤å)

| æ¨¡å‹ | RMSE | MAE | RÂ² | MAPE(%) | ç‰¹å¾æ•° | æ’å |
|------|------|-----|-----|---------|--------|------|
| **RF Lite** ğŸ† | **2.4864** | **1.7149** | **0.9338** | **7.31** | **12** | ğŸ¥‡ |
| RF Full | 2.6214 | 1.8523 | 0.9264 | 8.15 | 122 | ğŸ¥ˆ |
| Improved LSTM | 3.1847 | 2.3494 | 0.8895 | 9.99 | 12 | ğŸ¥‰ |
| Linear Regression | 3.4312 | 2.5027 | 0.8739 | 10.40 | 122 | 4th |
| Baseline LSTM | 4.3555 | 3.3094 | 0.7954 | 13.43 | 12 | 5th |
| SVR | 5.2039 | 4.0406 | 0.7100 | 15.68 | 122 | 6th |
| KNN | 5.4894 | 3.8724 | 0.6773 | 16.66 | 122 | 7th |

### 6.4 è¯¦ç»†åˆ†æ

#### 6.4.1 Linear Regression

**æ€§èƒ½** (ä¿®å¤å):
- RÂ²: 0.8739
- RMSE: 3.43 kWh
- MAPE: 10.40%

**ç‰¹ç‚¹**:
- âœ… è®­ç»ƒæå¿« (<1ç§’)
- âœ… å¯è§£é‡Šæ€§å¼º
- âŒ æ— æ³•æ•æ‰éçº¿æ€§å…³ç³»
- âŒ å¯¹å¼‚å¸¸å€¼æ•æ„Ÿ

**ç»“è®º**: åŸºçº¿æ¨¡å‹ï¼Œæ€§èƒ½ä¸­ç­‰

#### 6.4.2 Random Forest Full (122ç‰¹å¾)

**æ€§èƒ½**:
- RÂ²: 0.9264
- RMSE: 2.62 kWh
- MAPE: 8.15%

**è¶…å‚æ•°**:
```python
n_estimators=100
max_depth=15
min_samples_split=10
min_samples_leaf=4
```

**ç‰¹ç‚¹**:
- âœ… æ€§èƒ½ä¼˜ç§€
- âœ… æŠ—è¿‡æ‹Ÿåˆ
- âœ… å¯å¤„ç†éçº¿æ€§
- âŒ ç‰¹å¾å†—ä½™ (122ä¸ªç‰¹å¾)

#### 6.4.3 RF Lite (12ç‰¹å¾) ğŸ†

**æ€§èƒ½**:
- RÂ²: **0.9338** (ä¼˜äºFull!)
- RMSE: 2.49 kWh
- MAPE: 7.31%

**ä¸ºä»€ä¹ˆ12ç‰¹å¾ä¼˜äº122ç‰¹å¾?**
1. **é«˜è¦†ç›–ç‡**: 12ç‰¹å¾è¦†ç›–95.71%æ€»é‡è¦æ€§
2. **ä½è¿‡æ‹Ÿåˆ**: æ›´å°‘ç‰¹å¾â†’æ›´å¼ºæ³›åŒ–
3. **è´¨é‡ä¼˜å…ˆ**: ç²¾é€‰é«˜è´¨é‡ç‰¹å¾

**ç‰¹å¾é‡è¦æ€§**:
```
Total_Energy_kWh_lag_1: 91.6%  â† ä¸»å¯¼ç‰¹å¾
hour: 2.9%
Total_Energy_kWh_lag_24: 1.5%
å…¶ä»–: 4.0%
```

**ç»“è®º**: ğŸ† **æœ€ä½³ç”Ÿäº§æ¨¡å‹**

#### 6.4.4 Improved LSTM

**æ€§èƒ½**:
- RÂ²: 0.8895
- RMSE: 3.18 kWh
- MAPE: 9.99%

**æ¶æ„æ”¹è¿›**:
- åºåˆ—é•¿åº¦: 24â†’48å°æ—¶
- ç½‘ç»œå±‚æ•°: 2â†’3å±‚LSTM
- æ·»åŠ æ³¨æ„åŠ›æœºåˆ¶
- Dropout: 0.2â†’0.3

**è®­ç»ƒç»†èŠ‚**:
- Epochs: 60 (early stopping)
- Learning Rate: 0.001â†’0.0001 (scheduling)
- è®­ç»ƒæ—¶é—´: 240ç§’

**å¯¹æ¯”Baseline LSTM**:
- RÂ²æå‡: 0.7954â†’0.8895 (+11.8%)
- RMSEé™ä½: 4.36â†’3.18 (-26.9%)

**ç»“è®º**: ä¼˜äºbaselineï¼Œä½†ä»ä¸å¦‚RF Liteï¼Œè®­ç»ƒæˆæœ¬é«˜

#### 6.4.5 å…¶ä»–æ¨¡å‹

**SVR**:
- RÂ²: 0.7100
- ç‰¹ç‚¹: å¯¹é«˜ç»´æ•°æ®æ•æ„Ÿï¼Œæ€§èƒ½ä¸€èˆ¬

**KNN**:
- RÂ²: 0.6773
- ç‰¹ç‚¹: è®­ç»ƒå¿«ä½†é¢„æµ‹æ…¢ï¼Œæ€§èƒ½è¾ƒå·®

---

## 7. ç‰¹å¾ç²¾ç®€å®éªŒ

### 7.1 å®éªŒåŠ¨æœº

**é—®é¢˜**: 122ä¸ªç‰¹å¾æ˜¯å¦å­˜åœ¨å†—ä½™?  
**ç›®æ ‡**: å¯»æ‰¾æœ€å°ç‰¹å¾é›†ï¼Œåœ¨ä¿æŒæ€§èƒ½çš„åŒæ—¶ç®€åŒ–æ¨¡å‹

### 7.2 ç‰¹å¾é‡è¦æ€§åˆ†æ

**æ–¹æ³•**: Random Forestçš„feature_importances_

**Top 15ç‰¹å¾** (ä¿®å¤å):
```
1.  Total_Energy_kWh_lag_1         89.89%
2.  hour                            2.66%
3.  Total_Energy_kWh_lag_24         1.30%
4.  hour_sin                        0.94%
5.  Total_Energy_kWh_rolling_std_24 0.26%
6.  hour_cos                        0.21%
7.  Total_Energy_kWh_rolling_mean_24 0.19%
8.  Total_Energy_kWh_rolling_std_6  0.14%
9.  Total_Energy_kWh_rolling_max_6  0.13%
10. Total_Energy_kWh_lag_2          0.10%
11. day_of_week                     0.05%
12. Temperature                     0.05%
13. GHI                             0.07%
...
ç´¯è®¡å‰12ä¸ªç‰¹å¾: 95.71%
```

**å…³é”®å‘ç°**:
- âœ¨ **lag_1ä¸»å¯¼**: å•ç‰¹å¾è´¡çŒ®89.89%
- âœ¨ **é•¿å°¾åˆ†å¸ƒ**: Top12ç‰¹å¾è¦†ç›–95.71%
- âœ¨ **å…¶ä½™110ä¸ªç‰¹å¾**: ä»…è´¡çŒ®4.29%

### 7.3 ç²¾ç®€ç­–ç•¥

**é€‰æ‹©æ ‡å‡†**:
1. ä¿ç•™é‡è¦æ€§>0.1%çš„ç‰¹å¾
2. ç¡®ä¿ç‰¹å¾å¤šæ ·æ€§ (lag + æ—¶é—´ + æ°”è±¡)
3. ç›®æ ‡è¦†ç›–ç‡>95%

**æœ€ç»ˆé€‰æ‹©**: 12ä¸ªç‰¹å¾ (è§4.7èŠ‚)

### 7.4 ç²¾ç®€æ•ˆæœ

**æ€§èƒ½å¯¹æ¯”**:
```
RF Full (122ç‰¹å¾):  RÂ²=0.9264, MAPE=8.15%
RF Lite (12ç‰¹å¾):   RÂ²=0.9338, MAPE=7.31%  â† æ›´ä¼˜!
```

**æ”¹è¿›åˆ†æ**:
- æ€§èƒ½æå‡: +0.74% RÂ²
- ç‰¹å¾å‡å°‘: 90.2%
- è®­ç»ƒåŠ é€Ÿ: ~1.5å€
- æ¨ç†åŠ é€Ÿ: ~10å€

**ç»“è®º**: âœ… **ç‰¹å¾è´¨é‡ > ç‰¹å¾æ•°é‡**

---

## 8. LSTMæ·±åº¦å­¦ä¹ å®éªŒ

### 8.1 å®éªŒç›®çš„

**é—®é¢˜**: æ·±åº¦å­¦ä¹ èƒ½å¦è¶…è¶Šä¼ ç»ŸML?  
**å‡è®¾**: LSTMå¯ä»¥å­¦ä¹ æ›´å¤æ‚çš„æ—¶é—´ä¾èµ–

### 8.2 Baseline LSTM

**æ¶æ„**:
```python
LSTM(hidden_size=128, num_layers=2, dropout=0.2)
FC(128 â†’ 64 â†’ 32 â†’ 1)
```

**è®­ç»ƒé…ç½®**:
- åºåˆ—é•¿åº¦: 24å°æ—¶
- Batch size: 32
- Epochs: 20
- Optimizer: Adam (lr=0.001)

**æ€§èƒ½**:
- RÂ²: 0.7954
- RMSE: 4.36 kWh
- MAPE: 13.43%

**ç»“è®º**: æ€§èƒ½ä¸å¦‚RFï¼Œå¯èƒ½åŸå› ï¼š
- æ•°æ®é‡ä¸è¶³ (8kæ ·æœ¬)
- åºåˆ—é•¿åº¦çŸ­
- ç½‘ç»œç»“æ„ç®€å•

### 8.3 Improved LSTM

**æ”¹è¿›æªæ–½**:
1. **åºåˆ—é•¿åº¦åŠ å€**: 24â†’48å°æ—¶
2. **å¢åŠ ç½‘ç»œæ·±åº¦**: 2â†’3å±‚LSTM
3. **æ·»åŠ æ³¨æ„åŠ›æœºåˆ¶**: çªå‡ºé‡è¦æ—¶é—´æ­¥
4. **å¢å¼ºæ­£åˆ™åŒ–**: Dropout 0.2â†’0.3
5. **ä¼˜åŒ–è®­ç»ƒç­–ç•¥**: 
   - Early stopping (patience=10)
   - LR scheduling (ReduceLROnPlateau)
   - Gradient clipping (max_norm=1.0)

**æ¶æ„**:
```python
LSTM(hidden_size=128, num_layers=3, dropout=0.3)
Attention Layer
FC(128 â†’ 64 â†’ 32 â†’ 16 â†’ 1)
```

**è®­ç»ƒè¿‡ç¨‹**:
```
Epoch 1-10: Losså¿«é€Ÿä¸‹é™
Epoch 10-30: ç¨³å®šæ”¶æ•›
Epoch 30-49: ç¼“æ…¢ä¼˜åŒ–
Epoch 49: Early stopè§¦å‘
```

**æ€§èƒ½**:
- RÂ²: 0.8895 (+11.8% vs Baseline)
- RMSE: 3.18 kWh (-26.9%)
- MAPE: 9.99% (-25.6%)

### 8.4 LSTM vs RFå¯¹æ¯”

| ç»´åº¦ | RF Lite | Improved LSTM | èƒœè€… |
|------|---------|---------------|------|
| RÂ² | **0.9338** | 0.8895 | RF |
| MAPE | **7.31%** | 9.99% | RF |
| è®­ç»ƒæ—¶é—´ | <2ç§’ | 240ç§’ | RF |
| æ¨ç†é€Ÿåº¦ | <1ms | 5-10ms | RF |
| å¯è§£é‡Šæ€§ | â­â­â­â­â­ | â­â­ | RF |
| ç‰¹å¾æ•° | 12 | 12 | å¹³æ‰‹ |

**ç»“è®º**: 
- âœ… LSTMæœ‰æå‡ç©ºé—´ï¼Œä½†æœªè¶…è¶ŠRF
- âœ… RFåœ¨æœ¬é¡¹ç›®ä¸­æ›´ä¼˜ï¼ˆæ•°æ®é‡ã€ä»»åŠ¡ç‰¹æ€§ï¼‰
- âœ… LSTMå¯ä½œä¸ºå¤‡é€‰æˆ–é›†æˆä½¿ç”¨

---

## 9. æœ€ç»ˆç»“è®ºä¸å»ºè®®

### 9.1 æ ¸å¿ƒå‘ç°

#### å‘ç°1: æ•°æ®æ³„éœ²æ˜¯æœºå™¨å­¦ä¹ çš„éšæ‚£ âš ï¸

**æ•™è®­**:
- RÂ²=1.0å‡ ä¹æ€»æ˜¯æ•°æ®æ³„éœ²
- å¼‚å¸¸å®Œç¾çš„ç»“æœéœ€è¦æ·±å…¥å®¡æŸ¥
- ç‰¹å¾å·¥ç¨‹éœ€è¦ä¸šåŠ¡ç†è§£

**é¢„é˜²åŸåˆ™**:
1. ç‰¹å¾å¿…é¡»åœ¨é¢„æµ‹æ—¶åˆ»**ä¹‹å‰**å¯è·å¾—
2. ä¸èƒ½ä½¿ç”¨ç›®æ ‡çš„**åŒæœŸæµ‹é‡å€¼**æˆ–å…¶**ç›´æ¥å‡½æ•°**
3. æ•°å­¦å…³ç³»éœ€è¦ä»”ç»†æ£€æŸ¥ (å¦‚diff+lag)

#### å‘ç°2: ç‰¹å¾è´¨é‡ > ç‰¹å¾æ•°é‡ ğŸ’¡

**è¯æ®**:
- 12ç‰¹å¾ (RÂ²=0.9338) > 122ç‰¹å¾ (RÂ²=0.9264)
- Top1ç‰¹å¾è´¡çŒ®91.6%ï¼Œå…¶ä»–111ä¸ªä»…8.4%

**å¯ç¤º**:
- ç‰¹å¾å·¥ç¨‹çš„æ ¸å¿ƒæ˜¯æ‰¾åˆ°å…³é”®ç‰¹å¾
- è¿‡å¤šå†—ä½™ç‰¹å¾å¯èƒ½å¯¼è‡´è¿‡æ‹Ÿåˆ
- å¥¥å¡å§†å‰ƒåˆ€åŸåˆ™åœ¨MLä¸­åŒæ ·é€‚ç”¨

#### å‘ç°3: ä¼ ç»ŸMLåœ¨æŸäº›åœºæ™¯ä¼˜äºæ·±åº¦å­¦ä¹  ğŸ¯

**æœ¬é¡¹ç›®ä¸­RFä¼˜äºLSTMçš„åŸå› **:
1. æ•°æ®é‡æœ‰é™ (8kæ ·æœ¬ï¼ŒLSTMéœ€è¦æ›´å¤š)
2. ç‰¹å¾è´¨é‡é«˜ (lag_1å·²åŒ…å«å¤§éƒ¨åˆ†ä¿¡æ¯)
3. ä»»åŠ¡ç›¸å¯¹ç®€å• (çº¿æ€§è¶‹åŠ¿ä¸ºä¸»)

**é€‰æ‹©æ¨¡å‹çš„åŸåˆ™**:
- æ•°æ®é‡<10k: ä¼˜å…ˆä¼ ç»ŸML
- ç‰¹å¾å·¥ç¨‹æˆç†Ÿ: ä¼ ç»ŸMLå¯èƒ½è¶³å¤Ÿ
- è¿½æ±‚å¯è§£é‡Šæ€§: ä¼ ç»ŸMLæ›´ä¼˜

### 9.2 ç”Ÿäº§éƒ¨ç½²å»ºè®®

**æ¨èæ¨¡å‹**: **Random Forest Lite (12ç‰¹å¾)**

**æ¨èç†ç”±**:
- âœ… æ€§èƒ½æœ€ä½³ (RÂ²=0.9338, MAPE=7.31%)
- âœ… ç‰¹å¾æœ€å°‘ (ä»…12ä¸ªï¼Œæ˜“äºç»´æŠ¤)
- âœ… è®­ç»ƒæå¿« (<2ç§’)
- âœ… æ¨ç†æå¿« (<1ms)
- âœ… å¯è§£é‡Šæ€§å¼º
- âœ… æ— æ•°æ®æ³„éœ²ï¼Œå¯å®é™…éƒ¨ç½²

**éƒ¨ç½²æ¶æ„**:
```
å®æ—¶æ•°æ®æµ â†’ ç‰¹å¾æå– â†’ RF Lite â†’ èƒ½è€—é¢„æµ‹
              â†“
        (12ä¸ªç‰¹å¾)
        - lag_1, lag_24, lag_2
        - hour, hour_sin, hour_cos
        - day_of_week, is_weekend
        - rolling_std_24, rolling_mean_24
        - Temperature, GHI
```

**ç›‘æ§æŒ‡æ ‡**:
- MAPEæŒç»­ç›‘æ§ï¼ˆç›®æ ‡<10%ï¼‰
- ç‰¹å¾åˆ†å¸ƒæ£€æµ‹ï¼ˆé¿å…æ•°æ®æ¼‚ç§»ï¼‰
- é¢„æµ‹åå·®åˆ†æ

**æ›´æ–°ç­–ç•¥**:
- æ¯æœˆé‡è®­ç»ƒï¼ˆå­£èŠ‚æ€§å˜åŒ–ï¼‰
- å¢é‡å­¦ä¹ ï¼ˆå¦‚æœæ•°æ®é‡å¢é•¿ï¼‰
- A/Bæµ‹è¯•æ–°ç‰¹å¾

### 9.3 æ”¹è¿›æ–¹å‘

**çŸ­æœŸæ”¹è¿›** (1-3ä¸ªæœˆ):
1. é›†æˆå­¦ä¹ : RF Lite + Improved LSTM (å¯èƒ½æå‡0.5-1% RÂ²)
2. è¶…å‚æ•°ä¼˜åŒ–: GridSearch/Bayesianä¼˜åŒ–
3. ç‰¹å¾äº¤äº’: å°è¯•hour Ã— Temperatureç­‰äº¤äº’ç‰¹å¾

**ä¸­æœŸæ”¹è¿›** (3-6ä¸ªæœˆ):
1. å¤šå»ºç­‘æ•°æ®: æ‰©å±•åˆ°å…¶ä»–åŒ»é™¢/å»ºç­‘ç±»å‹
2. Transfer Learning: ä»å…¶ä»–å»ºç­‘è¿ç§»çŸ¥è¯†
3. å¤–éƒ¨æ•°æ®: å¤©æ°”é¢„æŠ¥ã€æ´»åŠ¨æ—¥å†ç­‰

**é•¿æœŸç ”ç©¶** (6-12ä¸ªæœˆ):
1. å¯è§£é‡ŠAI: SHAPå€¼åˆ†æï¼Œæå‡å¯ä¿¡åº¦
2. å› æœæ¨æ–­: åŒºåˆ†ç›¸å…³æ€§ä¸å› æœæ€§
3. åœ¨çº¿å­¦ä¹ : å®æ—¶æ›´æ–°æ¨¡å‹å‚æ•°

### 9.4 å­¦æœ¯ä»·å€¼

**è¯¾ç¨‹è®¾è®¡è´¡çŒ®**:
- ğŸ“– å®Œæ•´çš„ML Pipelineå®è·µ
- ğŸ“– æ•°æ®æ³„éœ²çš„è¯†åˆ«ä¸ä¿®å¤æ¡ˆä¾‹
- ğŸ“– ç‰¹å¾å·¥ç¨‹çš„ç³»ç»ŸåŒ–æ–¹æ³•
- ğŸ“– ä¼ ç»ŸML vs æ·±åº¦å­¦ä¹ çš„å®è¯å¯¹æ¯”
- ğŸ“– ç‰¹å¾è´¨é‡>æ•°é‡çš„å®éªŒè¯æ˜

**å¯å‘è¡¨è§‚ç‚¹**:
1. "Building Energy Prediction: Less is More - A 12-Feature Random Forest Outperforms 122-Feature Models"
2. "Data Leakage Detection in Time Series: A Case Study in Energy Prediction"
3. "When Deep Learning Fails: Traditional ML Wins in Limited Data Scenarios"

---

## é™„å½•

### A. é¡¹ç›®æ–‡ä»¶ç»“æ„

```
mlzy/
â”œâ”€â”€ main.py                              # ä¸»è®­ç»ƒè„šæœ¬
â”œâ”€â”€ fix_final.py                         # æ•°æ®æ³„éœ²ä¿®å¤è„šæœ¬
â”œâ”€â”€ train_lite_model_fixed.py            # RF Liteè®­ç»ƒ
â”œâ”€â”€ train_improved_lstm.py               # LSTMè®­ç»ƒ
â”œâ”€â”€ create_lite_features_fixed.py        # Liteç‰¹å¾åˆ›å»º
â”œâ”€â”€ update_visualizations.py             # å¯è§†åŒ–æ›´æ–°
â”œâ”€â”€ regenerate_model_plots.py            # æ¨¡å‹å›¾è¡¨ç”Ÿæˆ
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config.py                        # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ data_loader.py                   # æ•°æ®åŠ è½½
â”‚   â”œâ”€â”€ preprocessing.py                 # é¢„å¤„ç†
â”‚   â”œâ”€â”€ feature_engineering.py           # ç‰¹å¾å·¥ç¨‹
â”‚   â”œâ”€â”€ evaluation.py                    # è¯„ä¼°
â”‚   â”œâ”€â”€ visualization.py                 # å¯è§†åŒ–
â”‚   â””â”€â”€ models/                          # æ¨¡å‹å®šä¹‰
â”œâ”€â”€ data/                                # åŸå§‹æ•°æ®
â”œâ”€â”€ results/
â”‚   â”œâ”€â”€ models/                          # ä¿å­˜çš„æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ lr_final.pkl
â”‚   â”‚   â”œâ”€â”€ rf_final.pkl
â”‚   â”‚   â”œâ”€â”€ random_forest_lite_fixed.pkl ğŸ†
â”‚   â”‚   â””â”€â”€ improved_lstm.pth
â”‚   â”œâ”€â”€ metrics/                         # è¯„ä¼°æŒ‡æ ‡
â”‚   â”‚   â”œâ”€â”€ model_comparison_final.csv
â”‚   â”‚   â”œâ”€â”€ feature_importance_lite_fixed.csv
â”‚   â”‚   â””â”€â”€ X_train_final.csv (122ç‰¹å¾)
â”‚   â””â”€â”€ figures/                         # å¯è§†åŒ–å›¾è¡¨ (19ä¸ª)
â””â”€â”€ experiment_log.md                    # æœ¬æ–‡æ¡£

```

### B. å…³é”®é…ç½®å‚æ•°

**æ•°æ®åˆ†å‰²**:
```python
TRAIN_SIZE = 0.72
VAL_SIZE = 0.08
TEST_SIZE = 0.20
```

**RF Liteè¶…å‚æ•°**:
```python
n_estimators = 100
max_depth = 15
min_samples_split = 10
min_samples_leaf = 4
random_state = 42
```

**Improved LSTMè¶…å‚æ•°**:
```python
hidden_size = 128
num_layers = 3
dropout = 0.3
sequence_length = 48
batch_size = 32
learning_rate = 0.001
epochs = 60
```

### C. å¤ç°è¯´æ˜

**ç¯å¢ƒè¦æ±‚**:
```
Python 3.13.5
scikit-learn 1.7.2
PyTorch 2.9.1
pandas 2.0+
numpy 1.24+
```

**è¿è¡Œæ­¥éª¤**:
```bash
# 1. è®­ç»ƒæ‰€æœ‰æ¨¡å‹ (122ç‰¹å¾)
python main.py

# 2. ä¿®å¤æ•°æ®æ³„éœ²
python fix_final.py

# 3. åˆ›å»ºLiteç‰¹å¾
python create_lite_features_fixed.py

# 4. è®­ç»ƒRF Lite
python train_lite_model_fixed.py

# 5. è®­ç»ƒLSTM
python train_improved_lstm.py

# 6. ç”Ÿæˆå¯è§†åŒ–
python update_visualizations.py
python regenerate_model_plots.py
```

---

**å®éªŒè´Ÿè´£äºº**: GitHub Copilot  
**å®Œæˆæ—¶é—´**: 2025-12-24  
**æœ€ç»ˆçŠ¶æ€**: âœ… æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼Œæ•°æ®æ³„éœ²å·²ä¿®å¤  
**æ–‡æ¡£ç‰ˆæœ¬**: v2.0 - Reorganized for Better Readability
